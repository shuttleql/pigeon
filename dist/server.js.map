{"version":3,"sources":["../src/server.js"],"names":[],"mappings":";;;;uBAAoB,SAAS;;;;0BACN,aAAa;;;;sBACjB,UAAU;;;;sBACV,UAAU;;;;oBACZ,MAAM;;;;AAEvB,IAAM,EAAE,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE;AACpC,SAAO,EAAE,KAAK;CACf,CAAC,CAAC;;;AAGH,oBAAO,SAAS,CAAC,EAAE,CAAC,CAAC;;AAErB,IAAM,GAAG,GAAG,2BAAS,CAAC;;AAEtB,oBAAO,SAAS,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,UAAC,MAAM,EAAK;AAC9C,SAAO,CAAC,GAAG,aAAW,MAAM,CAAC,EAAE,kCAA+B,CAAC;;AAE/D,QAAM,CAAC,EAAE,CAAC,YAAY,EAAE,YAAM;AAC5B,WAAO,CAAC,GAAG,aAAW,MAAM,CAAC,EAAE,uCAAoC,CAAC;GACrE,CAAC,CAAC;CACJ,CAAC,CAAC;;AAEH,GAAG,CAAC,GAAG,CAAC,wBAAM,CAAC,CAAC;;AAEhB,GAAG,CAAC,GAAG,CAAC,wBAAW,IAAI,EAAE,CAAC,CAAC;;AAE3B,GAAG,CAAC,GAAG,CAAC,GAAG,sBAAS,CAAC;;AAErB,IAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE,YAAM;wBAChC,MAAM,CAAC,OAAO,EAAE;;MAAjC,OAAO,mBAAP,OAAO;MAAE,IAAI,mBAAJ,IAAI;;AAEpB,SAAO,CAAC,GAAG,+BAA6B,OAAO,SAAI,IAAI,CAAG,CAAC;CAC5D,CAAC,CAAC","file":"server.js","sourcesContent":["import express from 'express';\nimport bodyParser from 'body-parser';\nimport routes from './routes';\nimport Socket from './socket';\nimport cors from 'cors';\n\nconst io = require('socket.io')(9002, {\n  origins: '*:*'\n});\n\n// keep a reference to io for socket\nSocket.setSocket(io);\n\nconst app = express();\n\nSocket.getSocket().on('connection', (socket) => {\n  console.log(`Client ${socket.id} connected to socket server.`);\n\n  socket.on('disconnect', () => {\n    console.log(`Client ${socket.id} disconnected from socket server.`);\n  });\n});\n\napp.use(cors());\n\napp.use(bodyParser.text());\n\napp.use('/', routes);\n\nconst server = app.listen(process.env.PORT || 9001, () => {\n  const {address, port} = server.address();\n\n  console.log(`Pigeon running on http://${address}:${port}`);\n});\n"]}